所谓的LRU(Least recently used)算法的基本概念是:当内存的剩余的可用空间不够时,缓冲区尽可能的先保留使用者最常使用的数据,换句话说就是优先清除”较不常使用的数据”,并释放其空间.之所以”较不常使用的数据”要用引号是因为这里判断所谓的较不常使用的标准是人为的、不严格的.所谓的MRU(Most recently used)算法的意义正好和LRU算法相反.

**最近最常使用算法（MRU）：**

这个缓存算法最先移除最近最常使用的条目。一个MRU算法擅长处理一个条目越久，越容易被访问的情况。



**自适应缓存替换算法(ARC)：**

在IBM Almaden研究中心开发，这个缓存算法同时跟踪记录LFU和LRU，以及驱逐缓存条目，来获得可用缓存的最佳使用。

FIFO

CLOCK

传统的FIFO和LRU算法都没有使用访问次数这个信息，使得对于空间局限性较弱的场景效率很低，Second Change算法对FIFO算法做了略微的修改，在一定程度上可以改善这种场景下的效率。该算法依然使用队列的方式访问，同时为队列的每一项设置一个参考位。

Clock算法是针对LRU遍历链表等开销较大的一种改进，将Second Change使用的列表改成环形链表，属于FIFO的复杂度。Clock 不需要从Front移除数据到Rear端，使用Head指针替代了Front和Rear指针。

替换方式和Second Change相似：

Hit：将reference bit设置为1

Miss：从Head开始查找Reference bit为0 的entry

如果Reference bit为1，清除该位，指针前移，直到找到为0的entry为止。

如果Reference bit 为0， 将数据放入该entry，并将Reference bit置1。



当程序重用Working Set大于可用Cache时或者其存储访问具有低局部相关性时，Cache替换策略中最常用的LRU策略表现出十分低下的命中率。大量新替换入Cache的行对命中率的贡献为零，而原本可能命中的行则由于长期不被访问而替换出Cache。

如果Working Set的一些片段能被驻留于Cache中而不被LRU策略替换，将能有效地提高Cache的命中率。文章将Cache替换策略分为两个部分：牺牲者选择策略和插入策略，并通过简单地修改插入策略显著地改善Cache性能，且无需对现有硬件设计作大的改动或消耗大量的存储空间。

 1) 提出了LRU Insertion Policy (LIP) 。该策略将所有替换入Cache的行置于LRU端。相对于传统策略将所有替换入的行置于MRU端，LIP使一部分行得以驻留于Cache中，其驻留时间能比Cache本身容量更长。LIP策略能够很好地应对Thrashing，尤其对于循环访问内存的程序其性能近似于OPT策略。由于LIP中并没有引入年龄，其无法响应Working Set的切换。
        2) 提出了Bimodal Insertion Policy (BIP) 。BIP策略是对LIP的加强和改进，新换入的行会小概率地被置于MRU端。BIP可以很好地响应Working Set的切换，并保持一定的命中率。
        以上两种策略对于LRU-friendly（高局部性）的程序，性能均不佳。
        3) Dynamic Insertion Policy (DIP) 能动态地在LRU和BIP间切换，选择其中命中率较高的策略执行后续指令。DIP对于LRU-friendly的程序块使用LRU策略，对于LRU-averse的程序块使用DIP策略，以求通用效率。对于1MB16路L2 Cache，DIP策略较LRU降低21%的失配率。
        4) 文中还提出了Set Dueling作为DIP中的调度选择策略。Set Dueling选择块中的少部分来分别执行两种竞争策略，而其余部分执行两者中失配率较低者。Set Dueling方法除了失配计数器，并不需要额外的Cache开销。





### FIFO

| traces     | Instructions | CPI      | MissRate |
| ---------- | ------------ | -------- | -------- |
| perlbench  | 13796184     | 0.647953 | 41.6694  |
| bzip2      | 105737858    | 0.55759  | 62.1787  |
| gcc        | 111023833    | 0.631048 | 44.9167  |
| bwaves     | 100767249    | 0.253088 | 99.6634  |
| gamess     | 109857040    | 0.301266 | 26.7975  |
| mcf        | 111834055    | 2.6095   | 77.8556  |
| milc       | 104433837    | 1.14925  | 76.8283  |
| zeusmp     | 103951560    | 0.454532 | 82.5232  |
| gromacs    | 111463802    | 0.609378 | 71.4938  |
| cactusADM  | 113865457    | 0.451664 | 77.6336  |
| leslie3d   | 108598282    | 1.4964   | 83.0144  |
| namd       | 104034990    | 0.273795 | 66.2719  |
| gobmk      | 110811576    | 0.407287 | 21.1091  |
| dealII     | 110728687    | 0.46456  | 46.1974  |
| soplex     | 60497953     | 0.357608 | 15.3817  |
| povray     | 113586629    | 0.360529 | 40.2198  |
| calculix   | 112031276    | 0.323023 | 34.4734  |
| hmmer      | 110174490    | 0.258515 | 71.4999  |
| sjeng      | 110877774    | 0.323511 | 94.3372  |
| GemsFDTD   | 115939356    | 0.368143 | 84.1525  |
| libquantum | 116885396    | 0.272749 | 100      |
| h264ref    | 112187921    | 0.289111 | 70.4079  |
| tonto      | 100054260    | 0.348005 | 79.3838  |
| lbm        | 103428771    | 1.15428  | 99.9801  |
| omnetpp    | 117157993    | 0.412909 | 59.9028  |
| astar      | 108177102    | 0.267647 | 5.84718  |
| sphinx3    | 113061004    | 0.445673 | 97.315   |
| xalancbmk  | 116559218    | 0.417564 | 66.9845  |
| specrand   | 68635436     | 0.336209 | 95.8733  |

### CLOCK

| traces     | Instructions | CPI      | MissRate |
| ---------- | ------------ | -------- | -------- |
| perlbench  | 13796184     | 0.644415 | 41.1228  |
| bzip2      | 105737858    | 0.555128 | 62.1271  |
| gcc        | 111023833    | 0.621898 | 43.5188  |
| bwaves     | 100767249    | 0.253088 | 99.6634  |
| gamess     | 109857040    | 0.30083  | 26.5248  |
| mcf        | 111834055    | 2.58173  | 76.7433  |
| milc       | 104433837    | 1.14843  | 76.6981  |
| zeusmp     | 103951560    | 0.45283  | 81.4494  |
| gromacs    | 111463802    | 0.612216 | 71.7569  |
| cactusADM  | 113865457    | 0.450521 | 77.3741  |
| leslie3d   | 108598282    | 1.50466  | 83.9634  |
| namd       | 104034990    | 0.273795 | 66.2719  |
| gobmk      | 110811576    | 0.391202 | 17.1557  |
| dealII     | 110728687    | 0.467863 | 47.1231  |
| soplex     | 60497953     | 0.356944 | 15.246   |
| povray     | 113586629    | 0.360449 | 39.9801  |
| calculix   | 112031276    | 0.322505 | 34.1872  |
| hmmer      | 110174490    | 0.258513 | 71.4868  |
| sjeng      | 110877774    | 0.323332 | 94.0842  |
| GemsFDTD   | 115939356    | 0.368143 | 84.1525  |
| libquantum | 116885396    | 0.272749 | 100      |
| h264ref    | 112187921    | 0.28851  | 70.1737  |
| tonto      | 100054260    | 0.347968 | 79.2599  |
| lbm        | 103428771    | 1.15406  | 99.9772  |
| omnetpp    | 117157993    | 0.412819 | 59.5862  |
| astar      | 108177102    | 0.267647 | 5.84718  |
| sphinx3    | 113061004    | 0.445651 | 97.1913  |
| xalancbmk  | 116559218    | 0.416242 | 66.6189  |
| specrand   | 68635436     | 0.336209 | 95.8733  |